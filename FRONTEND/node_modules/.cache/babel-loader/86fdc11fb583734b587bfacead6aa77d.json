{"ast":null,"code":"var _jsxFileName = \"C:\\\\LAB MERN\\\\FRONTEND\\\\src\\\\components\\\\course-form\\\\CourseForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport './course-form.css';\nimport axios from \"axios\";\nimport ProductContext from \"../../store/ProductContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductForm = props => {\n  _s();\n\n  const ProductCtx = useContext(ProductContext);\n  const [remessage, setresMessage] = useState('');\n  let [formInput, setFormInput] = useState({\n    name: '',\n    price: '',\n    image: '',\n    description: ''\n  });\n\n  const productNameHandler = event => {\n    setFormInput({\n      name: event.target.value\n    });\n  };\n\n  const productPriceHandler = event => {\n    setFormInput({ ...formInput,\n      price: event.target.value\n    });\n  };\n\n  const productImageHandler = event => {\n    setFormInput({ ...formInput,\n      image: event.target.value\n    });\n  };\n\n  const productDescriptionHandler = event => {\n    setFormInput({ ...formInput,\n      description: event.target.value\n    });\n  };\n\n  const formSubmitHandler = async event => {\n    let error = '';\n\n    if (formInput.name === '' && error === '') {\n      error = 'Please enter product name';\n      setresMessage(error);\n    }\n\n    if (error == '') saveProductData(formInput); // await saveProductData(formInput);\n    // props.onProductAdded(true)\n\n    event.preventDefault();\n  };\n\n  const saveProductData = async formData => {\n    try {\n      const product = {\n        product_name: formData.name,\n        product_price: formData.price,\n        product_image: formData.image,\n        product_description: formData.description\n      };\n      const result = await axios.post(\"http://localhost:4001/product/add\", product, {\n        headers: {\n          'Content-Type': 'application/json',\n          'x-auth-token': localStorage.getItem('token')\n        }\n      });\n      console.log(result.data.message);\n      setresMessage('');\n      ProductCtx.setProducts(...ProductCtx.products, product);\n    } catch (err) {\n      console.log('From Error', err.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Add New Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: remessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: formSubmitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Product Name\",\n          onChange: productNameHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Product Price\",\n          onChange: productPriceHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Product Image\",\n          onChange: productImageHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Product Description\",\n          onChange: productDescriptionHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-input\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn_add_course\",\n          children: \"Add Product\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"clearfix\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductForm, \"gAvf+kjWdusXDa6jaQ5Iypag5g0=\");\n\n_c = ProductForm;\nexport default ProductForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductForm\");","map":{"version":3,"names":["React","useContext","useState","axios","ProductContext","ProductForm","props","ProductCtx","remessage","setresMessage","formInput","setFormInput","name","price","image","description","productNameHandler","event","target","value","productPriceHandler","productImageHandler","productDescriptionHandler","formSubmitHandler","error","saveProductData","preventDefault","formData","product","product_name","product_price","product_image","product_description","result","post","headers","localStorage","getItem","console","log","data","message","setProducts","products","err"],"sources":["C:/LAB MERN/FRONTEND/src/components/course-form/CourseForm.js"],"sourcesContent":["import React,{useContext, useState} from \"react\";\r\nimport './course-form.css';\r\nimport axios from \"axios\";\r\nimport ProductContext from \"../../store/ProductContext\";\r\n\r\nconst ProductForm = (props) =>{\r\n    const ProductCtx = useContext(ProductContext);\r\n    const [remessage,setresMessage] = useState('');\r\n    let [formInput,setFormInput] = useState({\r\n        name:'',\r\n        price:'',\r\n        image:'',\r\n        description:''\r\n    })\r\n    const productNameHandler = (event) =>{\r\n        setFormInput({\r\n            name:event.target.value\r\n        })\r\n    }\r\n    const productPriceHandler = (event) =>{\r\n        setFormInput({\r\n            ...formInput,\r\n            price:event.target.value\r\n        })\r\n    }\r\n    const productImageHandler = (event) =>{\r\n        setFormInput({\r\n            ...formInput,\r\n            image:event.target.value\r\n        })\r\n    }\r\n    const productDescriptionHandler = (event) =>{\r\n        setFormInput({\r\n            ...formInput,\r\n            description:event.target.value\r\n        })\r\n    }\r\n    const formSubmitHandler = async(event) => {\r\n        let error = '';\r\n        if(formInput.name === '' && error ===''){\r\n            error = 'Please enter product name';\r\n            setresMessage(error);\r\n        }\r\n        if(error == '')\r\n            saveProductData(formInput);\r\n            // await saveProductData(formInput);\r\n\r\n        // props.onProductAdded(true)\r\n        event.preventDefault();\r\n    }\r\n    const saveProductData = async(formData) =>{\r\n        try{\r\n            const product = {\r\n                product_name:formData.name,\r\n                product_price:formData.price,\r\n                product_image:formData.image,\r\n                product_description:formData.description\r\n            }\r\n            const result = await axios.post(\"http://localhost:4001/product/add\",product,{\r\n                headers:{\r\n                    'Content-Type':'application/json',\r\n                    'x-auth-token':localStorage.getItem('token')\r\n                }\r\n            })\r\n            console.log(result.data.message);\r\n            setresMessage('');\r\n            ProductCtx.setProducts(...ProductCtx.products,product);\r\n        }catch(err){\r\n            console.log('From Error',err.message);\r\n        }    \r\n    }\r\n    return(\r\n        <div className=\"form-container\">\r\n            <h1>Add New Product</h1>\r\n            <div>{remessage}</div>\r\n            <form onSubmit={formSubmitHandler}>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" placeholder=\"Product Name\" onChange={productNameHandler}/>\r\n                </div>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" placeholder=\"Product Price\" onChange={productPriceHandler}/>\r\n                </div>\r\n                <div className=\"clearfix\"></div>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" placeholder=\"Product Image\" onChange={productImageHandler}/>\r\n                </div>\r\n                <div className=\"form-input\">\r\n                    <input type=\"text\" placeholder=\"Product Description\" onChange={productDescriptionHandler}/>\r\n                </div>\r\n                <div className=\"clearfix\"></div>\r\n                <div className=\"form-input\">\r\n                    <button className=\"btn_add_course\" >Add Product</button>\r\n                </div>\r\n                <div className=\"clearfix\"></div>\r\n            </form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProductForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}